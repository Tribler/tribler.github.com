<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Tribler</title>

<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/trac.css" type="text/css" />
<link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
<link rel="icon" href="/img/favicon.ico" type="image/x-icon" />

<!--[if lt IE 9]>
<script src="/js/html5shiv.js"></script>
<![endif]-->

<!--[if lte IE 6]>
<script src="/js/ie6fix.js"></script>
<link href="/css/ie6fix.css" rel="stylesheet" />
<![endif]-->

<script type="text/javascript" src="/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript">
      var uservoiceOptions = {
        /* required */
        key: 'tribler',
        host: 'tribler.uservoice.com',
        forum: '90409',
        showTab: true,
        /* optional */
        alignment: 'right',
        background_color:'#f00',
        text_color: 'white',
        hover_color: '#009ec3',
        lang: 'en'
      };

      function _loadUserVoice() {
        var s = document.createElement('script');
        s.setAttribute('type', 'text/javascript');
        s.setAttribute('src', ("https:" == document.location.protocol ? "https://" : "http://") + "cdn.uservoice.com/javascripts/widgets/tab.js");
        document.getElementsByTagName('head')[0].appendChild(s);
      }
      _loadSuper = window.onload;
      window.onload = (typeof window.onload != 'function') ? _loadUserVoice : function() { _loadSuper(); _loadUserVoice(); };
    </script>

</head>

<body>

<div id="wrap">
	<header>
		<a href="/"><img src="/img/tribler-logo.png" alt="Return to the homepage" /></a>
		
		<nav>
			<ul>
				<li><a href="/">Tribler</a>
				    <ul>
				        <li><a href="/about.html">About Tribler</a></li>
				        <li><a href="/anonymity.html">Towards Anonymity</a></li>
				        <li><a href="http://statistics.tribler.org">Statistics</a></li>
				    </ul>
				</li>
				<li><a href="/download.html">Download</a></li>
				<li><a href="/user-index.html">Users</a>
				    <ul>
				        <li><a href="/howto.html">How does it work</a></li>
				        <li><a href="/faq.html">FAQ</a></li>
				    </ul>
				</li>
				<li><a href="/developer-index.html">Developers</a>
				    <ul>
					<li><a href="https://github.com/Tribler/tribler">Github</a></li>
					<li><a href="https://github.com/Tribler/tribler/wiki">Wiki</a></li>
					<li><a href="/TitleIndex">Archive</a></li>
				    </ul>
				</li>
				<li><a href="http://forum.tribler.org">Forum</a></li>
			</ul>
		</nav>
	</header>	
	
	<section id="trac"><table><tr><td><h1 id="NatCheckMeasurements"><a class="wiki" href="/NatCheck">NatCheck</a> Measurements</h1>
<p>
This page contains the description of the <a class="wiki" href="/NatCheck">NatCheck</a> Measurements performed over the Tribler network.
</p>
<p>
The objective is to compare NATs and firewalls characteristics as seen from <em>inside</em> and <em>outside</em>. For this purpose two classes of measurements will be performed on each Tribler peer encountered:
</p>
<ul><li>measurements from inside
</li><li>measurements from outside
</li></ul><p>
The results will then be compared and analysed.
</p>
<h2 id="Measurementsfrominside">Measurements from inside</h2>
<p>
Tribler has been equipped with an internal <em>NAT-check functionality</em> which performs a simple check of the NAT/firewall type and of the duration of a given mapping in the NAT/firewall when not used for a while (i.e. after how long a mapping in a NAT/firewall expires if there is no communication going through). We call this value <em>NAT timeout</em>. The NAT type check is done by using a simplified version of the STUN protocol and requires the assistance of some STUN servers, while the timeout check requires the assistance of a timeout server.
</p>
<p>
A peer's NAT-check functionality can only be activated by a special superpeer, and, once the peer has collected the results, it sends them back to the superpeer which made the request. The superpeer writes down this information in a log file.
</p>
<p>
The superpeer and the peers communicate via <em>overlay messages</em>, while the peers and the servers communicate via simple UDP sockets.
</p>
<h2 id="Measurementsfromoutside">Measurements from outside</h2>
<h2 id="Measurementstrategy">Measurement strategy</h2>
<p>
The idea is to synchronize the measurements form inside with those from outside. In order to do so, the superpeer that activates the internal NAT-check can activate the external NAT-check at the same time.
</p>
<h2 id="Analysis">Analysis</h2>
<p>
The data from the first class of measurements is somewhat more precise, because it has been obtained from the peer themselves. However it requires the active cooperation of the peers (they have to be equipped with a special functionality). The data from the second class of measurement, instead, is obtained by external observations of a specific peer's behaviour. It is therefore less precise, but it does not require the explicit cooperation of the observed peer.
</p>
</td>
</tr>
</table>
</section>	

</body>
</html>